
set version 20200319.130545_builder.r1095278
set system host-name edge_srx_r1
set system root-authentication encrypted-password "$6$saz5fJhm$2EXuEBVGbniSdCyozlZuVzpBEZildmkk.jri5.qCtwR6h3tGnVm8Rj4.h43XBpCmAiCNptstppMJE2XQBPr4K0"
set system login class super-user-local idle-timeout 3600
set system login class super-user-local permissions all
set system login user ansible uid 2000
set system login user ansible class super-user
set system login user ansible authentication encrypted-password "$6$UuHCOfr3$08jXiKr4IHIFDGXs1kD8XUEOvl0Y/PDRed7fuTrA5otfVdpFiA/YMuEhQQ.wVzki3o3yXLtwgOlJuIgOwEa9/0"
set system login user ansible authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCK5tAsUFHjRlUzgn8uVmEoMFhSGnrEy2tFfqSZXwc0zN9lnSSUECPvTt5WV7V2P+jJO20HwfyqpzGSH6O66qfSixjoTDjfxZ3+ZdCLlERcyj04RA/Cj7vo0M6/zyKVTI9cBwhbwSvrNWoWRXdCpaqx5Y+HfcOf2mxijV3e33ZHtYrUZ8xMkEeVdq9fm9vEJTxI4hWLZaunV6324+xcTNvelQt5e79UmcrZfc3QWv1wwz7qzZ2MscAhsAoGySdlxKEQ2ww7WK6k8XX/ddN9mNhXwt06hQIlyvHKECNEbs1h9hsal8UiXOKfwNXytOp9y/aWqcQoq7Vgm1OOoBATXOv7KdITo1mh3t/NwpCSgmsz92NTste35t8CL7EFWJ5dBncToBCumUrk3GA5AA0sZmLNe/zPN51LJwY7hn+ksZQqfz4vIl2Ujl6xZ1TvhtzIHMXaHYYIm1dmAytWtfMGbDolRdL19BhI0xuRlZ+xKXYPaNyajHHdtEGrwU37v+8ZSzirOCvks6V/2Z4HoS+a+6g5tYCmd8QFvmjiIP6rJPPWQufr6t66vJQHk06AjHS1w4CspFcD3X/UA5zWsINWILpAKpPGB+89EGG9LFUJVZdI3iM/UGB8x18zpOqqoNy8BXSiHujHku1l8mP5L113ikTK/znlDduSFjeHWqw0AbCwOQ== user@eve"
set system login user remote full-name "Any remote"
set system login user remote uid 2002
set system login user remote class super-user-local
set system login message "----------------------------------------\n|\n| This banner was generated by Ansible \n|\n----------------------------------------"
set system services ssh
set system services netconf ssh port 830
set system services web-management http interface fxp0.0
set system services web-management https system-generated-certificate
set system services web-management https interface fxp0.0
set system authentication-order password
set system authentication-order tacplus
set system tacplus-server 192.0.2.1 secret "$9$CPrtuIcKMXx-wO17VY2UD.P5F39tu1SyKBI"
set system accounting events login
set system accounting events change-log
set system accounting events interactive-commands
set system accounting destination tacplus server 192.0.2.1 secret "$9$PQ6ABIcSlMFnyK8LbwoJGiHm5QntpB36"
set system syslog archive
set system syslog user * any emergency
set system syslog host 10.100.102.254 any info
set system syslog file messages any any
set system syslog file messages authorization info
set system syslog file interactive-commands interactive-commands any
set system license autoupdate url https://ae1.juniper.net/junos/key_retrieval
set security address-book edge address netsvr 10.100.102.254/32
set security address-book edge address netsvr-v6 2001:db8:102::ffff/128
set security address-book edge address netsvr-lo 192.0.2.1/32
set security address-book edge address netsvr-lo-v6 2001:db8:999:beef::1/128
set security address-book edge address-set external_bgp_peers address netsvr
set security address-book edge address-set external_bgp_peers address netsvr-v6
set security address-book edge address-set netsvr-direct address netsvr
set security address-book edge address-set netsvr-direct address netsvr-v6
set security address-book edge address-set netsvr-loop address netsvr-lo
set security address-book edge address-set netsvr-loop address netsvr-lo-v6
set security address-book edge attach zone edge
set security address-book internet attach zone internet
set security address-book internal address internal-rtr 192.0.2.202/32
set security address-book internal address internal-rtr-v6 2001:db8:902:beef::2/128
set security address-book internal address-set internal_bgp_peers address internal-rtr
set security address-book internal address-set internal_bgp_peers address internal-rtr-v6
set security address-book internal address-set internal-rtr-loop address internal-rtr
set security address-book internal address-set internal-rtr-loop address internal-rtr-v6
set security address-book internal attach zone internal
set security nat source rule-set internet-nat description "Internet-facing NAT"
set security nat source rule-set internet-nat from zone internal
set security nat source rule-set internet-nat to zone internet
set security nat source rule-set internet-nat rule snat-out match destination-address 0.0.0.0/0
set security nat source rule-set internet-nat rule snat-out then source-nat interface
set security policies from-zone internal to-zone edge policy a_tacacs match source-address any
set security policies from-zone internal to-zone edge policy a_tacacs match destination-address netsvr-loop
set security policies from-zone internal to-zone edge policy a_tacacs match application junos-tacacs
set security policies from-zone internal to-zone edge policy a_tacacs then permit
set security policies from-zone internal to-zone edge policy a_syslog match source-address any
set security policies from-zone internal to-zone edge policy a_syslog match destination-address netsvr-direct
set security policies from-zone internal to-zone edge policy a_syslog match application junos-syslog
set security policies from-zone internal to-zone edge policy a_syslog then permit
set security policies from-zone internal to-zone internal policy a_int_bgp match source-address internal_bgp_peers
set security policies from-zone internal to-zone internal policy a_int_bgp match destination-address any
set security policies from-zone internal to-zone internal policy a_int_bgp match application junos-bgp
set security policies from-zone internal to-zone internal policy a_int_bgp then permit
set security policies from-zone internal to-zone internal policy a_internet_routing match source-address any
set security policies from-zone internal to-zone internal policy a_internet_routing match destination-address any
set security policies from-zone internal to-zone internal policy a_internet_routing match application any
set security policies from-zone internal to-zone internal policy a_internet_routing then permit
set security policies from-zone edge to-zone edge policy a_ext_bgp match source-address external_bgp_peers
set security policies from-zone edge to-zone edge policy a_ext_bgp match destination-address any
set security policies from-zone edge to-zone edge policy a_ext_bgp match application junos-bgp
set security policies from-zone edge to-zone edge policy a_ext_bgp then permit
set security policies from-zone edge to-zone junos-host policy a_ext_bgp_host match source-address external_bgp_peers
set security policies from-zone edge to-zone junos-host policy a_ext_bgp_host match destination-address any
set security policies from-zone edge to-zone junos-host policy a_ext_bgp_host match application junos-bgp
set security policies from-zone edge to-zone junos-host policy a_ext_bgp_host then permit
set security policies from-zone internal to-zone junos-host policy a_int_bgp_host match source-address internal_bgp_peers
set security policies from-zone internal to-zone junos-host policy a_int_bgp_host match destination-address any
set security policies from-zone internal to-zone junos-host policy a_int_bgp_host match application junos-bgp
set security policies from-zone internal to-zone junos-host policy a_int_bgp_host then permit
set security policies global policy all_icmp match source-address any
set security policies global policy all_icmp match destination-address any
set security policies global policy all_icmp match application junos-ping
set security policies global policy all_icmp then permit
set security zones security-zone edge host-inbound-traffic system-services ping
set security zones security-zone edge host-inbound-traffic system-services traceroute
set security zones security-zone edge host-inbound-traffic protocols bgp
set security zones security-zone edge interfaces ge-0/0/0.102
set security zones security-zone internet host-inbound-traffic system-services ping
set security zones security-zone internet host-inbound-traffic system-services traceroute
set security zones security-zone internet host-inbound-traffic system-services dhcp
set security zones security-zone internet interfaces ge-0/0/1.0
set security zones security-zone internal host-inbound-traffic system-services ping
set security zones security-zone internal host-inbound-traffic system-services traceroute
set security zones security-zone internal host-inbound-traffic protocols bgp
set security zones security-zone internal host-inbound-traffic protocols ospf
set security zones security-zone internal host-inbound-traffic protocols ospf3
set security zones security-zone internal interfaces ge-0/0/0.202
set security zones security-zone internal interfaces lo0.0
set interfaces ge-0/0/0 description "VLAN Bridge"
set interfaces ge-0/0/0 vlan-tagging
set interfaces ge-0/0/0 unit 102 vlan-id 102
set interfaces ge-0/0/0 unit 102 family inet address 10.100.102.253/24
set interfaces ge-0/0/0 unit 102 family inet6 address 2001:db8:102::f/64
set interfaces ge-0/0/0 unit 202 vlan-id 202
set interfaces ge-0/0/0 unit 202 family inet address 10.100.202.254/24
set interfaces ge-0/0/0 unit 202 family inet6 address 2001:db8:202::a/64
set interfaces ge-0/0/1 description "To the Internet"
set interfaces ge-0/0/1 unit 0 family inet dhcp
set interfaces fxp0 description Management
set interfaces fxp0 unit 0 family inet address 10.1.3.2/24
set interfaces fxp0 unit 0 family inet address 10.15.30.33/24
set interfaces lo0 description Loopback
set interfaces lo0 unit 0 family inet address 192.0.2.102/32
set interfaces lo0 unit 0 family inet6 address 2001:db8:902:beef::1/128
set snmp location "Ansible Home"
set snmp contact Ansible
set snmp v3 usm local-engine user ansible authentication-sha authentication-key "$9$uVhKOhSLxN-wYN-.P5T3nCtuBIcleW7Nbp0IcyrvMjHkqQFAp0ORhCAev8Xbw.PfTQnCtu1EcHqp0B1yrYg4oJDiHmF394ajqPfn6WLXxVwGDi.mTaJz3"
set snmp v3 usm local-engine user ansible privacy-aes128 privacy-key "$9$dTbs4JGDiHmJZ69Au1IhSrvxNdbsg4Zyl4aJGq.fTzntuhSrvMXle87dV4o9At0BEcylWX79AWL7NbwfTQnApIRSMWxrl"
set snmp v3 vacm security-to-group security-model usm security-name ansible group ansible_group
set snmp v3 vacm access group ansible_group default-context-prefix security-model any security-level authentication read-view all
set snmp v3 vacm access group ansible_group default-context-prefix security-model any security-level authentication write-view all
set snmp view all oid .1
set policy-options prefix-list internal_nets_v4 apply-path "policy-options prefix-list internal_nets <[0-9]*.[0-9]*.[0-9]*.[0-9]*>"
set policy-options prefix-list internal_nets_v6 apply-path "policy-options prefix-list internal_nets <*:*:*>"
set policy-options prefix-list external_nets_v4 apply-path "policy-options prefix-list external_nets <[0-9]*.[0-9]*.[0-9]*.[0-9]*>"
set policy-options prefix-list external_nets_v6 apply-path "policy-options prefix-list external_nets <*:*:*>"
set policy-options prefix-list internal_nets 10.100.202.0/24
set policy-options prefix-list internal_nets 192.0.2.102/32
set policy-options prefix-list internal_nets 192.0.2.202/32
set policy-options prefix-list internal_nets 2001:db8:902::/64
set policy-options prefix-list internal_nets 2001:db8:902:beef::1/128
set policy-options prefix-list internal_nets 2001:db8:902:beef::2/128
set policy-options prefix-list external_nets 10.100.102.0/24
set policy-options prefix-list external_nets 192.0.2.1/32
set policy-options prefix-list external_nets 2001:db8:999:beef::1/128
set policy-options policy-statement deny-all then reject
set policy-options policy-statement dhcp_default from protocol access-internal
set policy-options policy-statement dhcp_default then accept
set policy-options policy-statement external_networks term v4 from protocol bgp
set policy-options policy-statement external_networks term v4 from prefix-list external_nets_v4
set policy-options policy-statement external_networks term v4 then accept
set policy-options policy-statement external_networks term v6 from protocol bgp
set policy-options policy-statement external_networks term v6 from prefix-list external_nets_v6
set policy-options policy-statement external_networks term v6 then accept
set policy-options policy-statement internal_networks term v4 from protocol direct
set policy-options policy-statement internal_networks term v4 from protocol ospf
set policy-options policy-statement internal_networks term v4 from protocol ospf3
set policy-options policy-statement internal_networks term v4 from prefix-list internal_nets_v4
set policy-options policy-statement internal_networks term v4 then accept
set policy-options policy-statement internal_networks term v6 from protocol direct
set policy-options policy-statement internal_networks term v6 from protocol ospf
set policy-options policy-statement internal_networks term v6 from protocol ospf3
set policy-options policy-statement internal_networks term v6 from prefix-list internal_nets_v6
set policy-options policy-statement internal_networks term v6 then accept
set protocols ospf area 0.0.0.0 interface ge-0/0/0.102 passive
set protocols ospf area 0.0.0.0 interface ge-0/0/0.202
set protocols ospf area 0.0.0.0 interface ge-0/0/1.0 passive
set protocols ospf area 0.0.0.0 interface lo0.0 passive
set protocols bgp group NETSVR type external
set protocols bgp group NETSVR description "Peering to NETSVR"
set protocols bgp group NETSVR hold-time 30
set protocols bgp group NETSVR log-updown
set protocols bgp group NETSVR import external_networks
set protocols bgp group NETSVR import deny-all
set protocols bgp group NETSVR export internal_networks
set protocols bgp group NETSVR export deny-all
set protocols bgp group NETSVR neighbor 10.100.102.254 description "netsvr-01 IPv4"
set protocols bgp group NETSVR neighbor 10.100.102.254 peer-as 65430
set protocols bgp group NETSVR neighbor 2001:db8:102::ffff description "netsvr-01 IPv6"
set protocols bgp group NETSVR neighbor 2001:db8:102::ffff peer-as 65430
set protocols bgp group IBGP type internal
set protocols bgp group IBGP description "IBGP BGP Peering"
set protocols bgp group IBGP hold-time 30
set protocols bgp group IBGP log-updown
set protocols bgp group IBGP import internal_networks
set protocols bgp group IBGP import deny-all
set protocols bgp group IBGP export dhcp_default
set protocols bgp group IBGP export external_networks
set protocols bgp group IBGP export deny-all
set protocols bgp group IBGP neighbor 192.0.2.202 description "junos-02 IPv4"
set protocols bgp group IBGP neighbor 192.0.2.202 local-address 192.0.2.102
set protocols bgp group IBGP neighbor 2001:db8:902:beef::2 description "junos-02 IPv6"
set protocols bgp group IBGP neighbor 2001:db8:902:beef::2 local-address 2001:db8:902:beef::1
set protocols bgp local-as 65102
set protocols ospf3 area 0.0.0.0 interface ge-0/0/0.102 passive
set protocols ospf3 area 0.0.0.0 interface ge-0/0/0.202
set protocols ospf3 area 0.0.0.0 interface lo0.0 passive
set routing-options router-id 192.0.2.102
